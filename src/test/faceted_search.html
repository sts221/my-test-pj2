<!DOCTYPE html>
<html lang="en">
<head>
	<title>
		How to get value of selected radio button using JavaScript ?
	</title>
</head>

<body>
	<p>
		Select a radio button and click on Submit.
	</p>
	Cake Type:
	<input type="radio" name="cake" value="Mousse">Mousse
	<input type="radio" name="cake" value="CheeseCake">CheeseCake
	<input type="radio" name="cake" value="Buttercream">ButterCream
	<br>
	Main Ingredient:
	<input type="radio" name="ingred" value="Chocolate">Chocolate
	<input type="radio" name="ingred" value="Mango">Mango
	<input type="radio" name="ingred" value="Strawberry">Strawberry
	<input type="radio" name="ingred" value="Vanilla">Vanilla
	<input type="radio" name="ingred" value="Coffe">Coffe
	<br>
	<br>
	Price:
	<input type="radio" name="price" value="<30">Less than 30
	<input type="radio" name="price" value=">30">More than 30
	<br>
	<button type="button" onclick="displayRadioValue()">
		Submit
	</button>
	<br>
	<div id="result"></div>
	<script>
		function displayRadioValue() {
		
		var data =[
		 {
      id: 1,
	  category: "Cake",
      subcategory: "Mousse",
      name: "Chocolate Mousse",
      price: 29,
	  ingredient1: "Chocolate",
      image: "./images/Chocolate_Mousse.jpg",
    },
    {
      id: 2,
	  category: "Cake",
      subcategory: "Mousse",
      name: "Mango Mousse",
      price: 27,
	  ingredient1: "Mango",
      image: "./images/Mango_Mousse.jpg",
    },
    {
      id: 3,
      category: "Cake",
      subcategory: "Mousse",
      name: "Strawberry Mousse",
      price: 59,
	  ingredient1: "Strawberry",
      image: "./images/Berries_Mousse.jpeg",
    },
	{
      id: 4,
      category: "Cake",
      subcategory: "CheeseCake",
      name: "Strawberry Cheese Cake",
      price: 29,
      ingredient1: "Strawberry",
      image: "./images/Berries_CheeseCake.jpeg",
    },
    {
      id: 5,
      category: "Cake",
      subcategory: "CheeseCake",
      name: "Chocolate Cheese Cake",
      price: 29,
      ingredient1: "Chocolate",
      image: "./images/Chocolate_CheeseCake.jpg",
    },
    {
      id: 6,
      category: "Cake",
      subcategory: "CheeseCake",
      name: "Vanilla Cheese Cake",
      price: 29,
      ingredient1: "Vanilla",
      image: "./images/Vanilla_CheeseCake.jpg",
    },
    {
      id: 7,
      category: "Cake",
      subcategory: "Buttercream",
      name: "Chocolate Buttercream",
      price: 29,
      ingredient1: "Chocolate",
      image: "./images/Chocolate_Buttercream.jpeg",
    },
	 {
      id: 8,
      category: "Cake",
      subcategory: "Buttercream",
      name: "Vanilla Buttercream Cake",
      price: 25,
      ingredient1: "Vanilla",
      image: "./images/Vanilla_Buttercream.jpeg",
    },
	 {
      id: 9,
      category: "Cake",
      subcategory: "Buttercream",
      name: "Mocha Buttercream Cake",
      price: 39,
      ingredient1: "Coffe",
      image: "./images/Mocha_Buttercream.jpg",
    },
		]
		
		
			var type = document.getElementsByName('cake');

			for (i = 0; i < type.length; i++) {
				if (type[i].checked){
					document.getElementById("result").innerHTML= "Cake: " + type[i].value;
			          subcat=type[i].value;
					  }
			}
			
			console.log(subcat);
			
			var ingred = document.getElementsByName('ingred');

			for (i = 0; i < ingred.length; i++) {
				if (ingred[i].checked) {
					document.getElementById("result").innerHTML += "  Main Ingredient: " + ingred[i].value;
					mainingred=ingred[i].value;
	            }
			}
			
			console.log(mainingred);
			
			var price = document.getElementsByName('price');

			for (i = 0; i < price.length; i++) {
				if (price[i].checked) {
					document.getElementById("result").innerHTML += " Price: " + price[i].value;
					price=price[i].value;
	            }
			}
			
			console.log(price);
			
			// Updated filter
			let filter = {
				subcategory: {
					subcat
				},
				ingredient1: {
					mainingred
				},
		        price: {
					price
				},
			};
	
	       console.log( filter);
		   
	
           
    let filteredData = data.filter((data) => {
	    console.log( data.price); 
	    if (price ==">30" )
         return data.subcategory === subcat && data.ingredient1 === mainingred && data.price >=30  ;
		  else
		  return data.subcategory === subcat && data.ingredient1 === mainingred && data.price <=30  ;
     });
     
	 //var searchResult = filteredData;
    //console.log( filteredData);
	//console.log( searchResult);
	
	
	if (filteredData.length !=0) {
		for (i = 0; i < filteredData.length; i++) {
			document.getElementById("result").innerHTML = filteredData[i].category + "," + filteredData[i].subcategory + "," + filteredData[i].ingredient1+ "," + filteredData[i].price;
			document.getElementById("result").innerHTML += filteredData[i].image;
			let img = document.createElement("img");
	        img.src = filteredData[i].image;
            img.width = 50;
            img.height = 50;
            img.alt = "chocolate mousse";
			document.body.appendChild(img);
		}
	}
	else{  alert("There are no "+mainingred+" " +subcat+" products for price "+ price.replace(">","lower than ").replace("<"," higher than ")+"CAD. Please change search and try again");}
	
	
	
	 
	
}

</script>
</body>
</html>
